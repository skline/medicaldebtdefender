<!DOCTYPE html>
<html>
<head>
    <title>Medical Debt Inquiry Form</title>
    <style>
        body {
    font-family: Arial, sans-serif;
    background-color: #e6f2ff; /* Light blue background */
    margin: 0;
    padding: 20px;
    display: flex;
    flex-direction: column; /* Stack elements vertically */
    align-items: center; /* Center align items horizontally */
    height: 100vh;
}

h2 {
    color: #2e8b57; /* Sea green color for the heading */
    margin: 20px 0; /* Maintain existing margin and add padding */
    padding-top: 25px; /* Add top padding */
}

form {
    background: #fff;
    padding: 20px;
    margin-top: 20px; /* Add some space above the form */
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    width: 100%;
    max-width: 500px;
}

/* Style inputs and textareas */
input[type="text"],
input[type="email"],
input[type="tel"],
input[type="date"],
input[type="number"],
textarea {
    width: calc(100% - 20px); /* Subtract padding from width */
    padding: 10px;
    margin: 10px 0;
    border: 1px solid #ddd;
    border-radius: 4px;
    box-sizing: border-box;
}

input[type="submit"] {
    width: 100%;
    background-color: #4CAF50;
    color: white;
    padding: 14px 20px;
    margin: 20px 0;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

input[type="submit"]:hover {
    background-color: #45a049;
}

        #loadingMessage {
            display: none; /* Hidden by default */
            position: fixed; /* Positioned relative to the viewport */
            top: 0; left: 0; right: 0; bottom: 0; /* Full viewport coverage */
            background: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
            z-index: 9999; /* Sit on top of other elements */
            display: flex; /* Use Flexbox for centering */
            justify-content: center; /* Center horizontally */
            align-items: center; /* Center vertically */
            text-align: center; /* Center text */
        }
        
        .spinner-container {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100px; /* Adjust height as needed */
}

.spinner {
    border: 5px solid #f3f3f3; /* Light grey */
    border-top: 5px solid #3498db; /* Blue */
    border-radius: 50%;
    width: 50px;
    height: 50px;
    animation: spin 2s linear infinite;
}
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        </style>
        
</head>
<body>
    <h2>Medical Debt Inquiry Form</h2>

    <form id="dataForm">
        <!-- Patient Identification -->
        <p>Full Name: <input type="text" name="patientfullName" placeholder="Full Name" value="John Doe"></p>
        <p>Date of Birth: <input type="date" name="patient_dob" value="1980-01-01"></p>
        <p>Patient ID or Account Number: <input type="text" name="patientId" placeholder="Patient ID or Account Number" value="123456789"></p>

        <!-- Contact Information -->

        <p>Current Address: <input type="text" name="patient_address" placeholder="Current Address" value="123 Main St, Anytown, CA, USA, 90027"></p>
        <p>Contact Number: <input type="tel" name="patient_contactNumber" placeholder="Contact Number" value="555-1234"></p>
        <p>Email Address: <input type="email" name="patient_email" placeholder="Email Address" value="johndoe@example.com"></p>

        <!-- Debt Specifics -->
        <p>Medical Provider Name: <input type="text" name="medical_provider_name" placeholder="Medical Provider Name" value="Dr. Spencer Kline"></p>
        <p>Medical Provider Address: <input type="text" name="medical_provider_address" placeholder="Medical Provider Address" value="456 Downton St, Denver, CO, USA, 80027"></p>
        <p>Date of Service: <input type="date" name="serviceDate" value="2023-01-01"></p>
        <p>Total Debt Amount: <input type="number" name="debtAmount" placeholder="Total Debt Amount" value="5000"></p>
        <p>Do you have an itemized bill? <input type="checkbox" name="itemizedBill" value="yes" checked></p>


        <!-- Insurance Information -->
        <p>Was it covered by insurance? <input type="radio" name="insuranceCoverage" value="yes"> Yes
        <input type="radio" name="insuranceCoverage" value="no" checked> No</p>
        <p>Insurance Provider: <input type="text" name="insuranceProvider" placeholder="Insurance Provider" value="No Insurance"></p>
        <p>Reason for Insurance Denial: <input type="text" name="insuranceDenialReason" placeholder="Reason for Insurance Denial" value="No Insurance"></p>

        <!-- Patient Perspective Questions -->
        <p>Please describe the medical services or items charged as you understand them: <br/><textarea name="serviceDescription" rows="4" cols="50" placeholder="Please describe the medical services or items charged as you understand them.">General consultation and X-ray</textarea></p>
        <p>Do you have any information on how these charges compare to standard rates for similar services in our region:<br/> <textarea name="chargeComparison" rows="4" cols="50" placeholder="Do you have any information on how these charges compare to standard rates for similar services in our region?">Rates seem higher than usual</textarea></p>
        <p>For services billed on a time basis, what information were you provided about how the time was calculated and which medical staff were involved:<br/> <textarea name="durationAndStaff" rows="4" cols="50" placeholder="For services billed on a time basis, what information were you provided about how the time was calculated and which medical staff were involved?">Consultation lasted 30 minutes with Dr. Smith</textarea></p>

        <!-- Patient Inquiry for Documentation and Justifications -->
        <p>Have you received any documentation justifying the costs associated with each service or procedure?<br/> <textarea name="costJustification" rows="4" cols="50" placeholder="Have you received any documentation justifying the costs associated with each service or procedure?">No detailed justification provided</textarea></p>
        <p>Have you been provided with an audit trail or detailed billing progression for your case?<br/><textarea name="auditTrail" rows="4" cols="50" placeholder="Have you been provided with an audit trail or detailed billing progression for your case?">No audit trail available</textarea></p>
        <p>Are you aware of the hospital’s policy on correcting or adjusting charges that are found to be erroneous or unjustified <br/><textarea name="correctionPolicy" rows="4" cols="50" placeholder="Are you aware of the hospital’s policy on correcting or adjusting charges that are found to be erroneous or unjustified?">Not aware of any such policy</textarea></p>

        <!-- Financial Hardship -->
        <p>Are you experiencing financial hardship? <input type="radio" name="financialHardship" value="yes" checked> Yes
        <input type="radio" name="financialHardship" value="no"> No</p>
        <p><textarea name="financialSituation" rows="4" cols="50" placeholder="Describe Your Financial Situation">Currently unemployed, facing difficulty in meeting expenses</textarea></p>

        <!-- Request for Debt Relief -->
        <p>Reason for Requesting Debt Write-off:<br/> <textarea name="debtReliefReason" rows="4" cols="50" placeholder="Reason for Requesting Debt Write-off">Unable to pay due to financial hardship</textarea></p>
        <p>Can you afford a partial payment? <br/><input type="radio" name="partialPayment" value="yes"> Yes
        <input type="radio" name="partialPayment" value="no" checked> No</p>
        <p>Affordable Payment Amount <input type="number" name="affordableAmount" placeholder="Affordable Payment Amount" value="1000"></p>

        <!-- Patient's Remarks -->
        <p>Seeking assistance for bill reduction<br/><textarea name="additionalComments" rows="4" cols="50" placeholder="Any Other Information or Context">Seeking assistance for bill reduction</textarea></p>

        <!-- Consent and Confirmation -->
        <p><input type="checkbox" name="consent" value="yes" checked> I consent to the information provided being used for reassessment of my medical debt.</p>

        <!-- Submit Button -->
        <p><input type="submit" value="Submit"></p>
    </form>
    <div id="loadingMessage" style="display:none;">
        <div class="spinner-container">
            <div class="spinner"></div>
        </div>
        Loading, please wait...
    </div>
    <div id="responseContainer"></div>
<script>
document.getElementById('dataForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const formData = new FormData(this);
    
    // Hide the form and show the loading message
    document.getElementById('dataForm').style.display = 'none';
    document.getElementById('loadingMessage').style.display = 'block';
    
    fetch('/submit', {
        method: 'POST',
        body: formData
    })
    .then(response => response.text())
    .then(data => {
        document.getElementById('loadingMessage').style.display = 'none';
        document.getElementById('responseContainer').innerHTML = data;
        // Optionally, show the form again or leave it hidden
        // document.getElementById('dataForm').style.display = 'block';
    });
});
    </script>
</body>
</html>
